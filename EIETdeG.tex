% !TeX spellcheck = es_ES
% !TeX encoding = ISO-8859-1

\documentclass[letterpaper,titlepage,12pt,oneside,spanish,final]{report_eie}

%\documentclass[letterpaper,titlepage,12pt,twoside,openright,spanish,final]{report_eie}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[spanish]{babel}
%\usepackage[latin1]{inputenc}
\usepackage[utf8]{inputenc} %Reconoce tildes y otros simbolos propios del espa?ol
\usepackage[T1]{fontenc}  %Estilo de fuente time new roman

\usepackage{pdfpages}

\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage[letterpaper]{geometry}

\usepackage{float}
\usepackage{makeidx}
\usepackage{color}

\usepackage{tocbibind}
\usepackage{acronym}
\usepackage{caption2}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{slashbox}
\usepackage{setspace}
\usepackage{multicol}
\usepackage{longtable}
%\usepackage{doublespace}

\usepackage{fancyhdr}
%\usepackage{fancyheadings}

\usepackage{booktabs}



%========= Define el estilo de referencias ===============
%\usepackage[round,authoryear]{natbib}%\usepackage[square,numbers]{natbib}%
%\usepackage[comma,authoryear]{natbib} esto est? abajo

%========= Define el estilo de referencias APA ===============
%\usepackage[natbibapa]{apacite}%natbibapa
\usepackage[numbers]{natbib}%natbibapa
%\usepackage[apaciteclassic]{apacite}%natbibapa
%\usepackage[compact]{titlesec} %modificar espaciado


\usepackage{url}
%\usepackage{hyperref}
\usepackage[colorlinks=true,urlcolor=black,citecolor=black,anchorcolor=black,linkcolor=black]{hyperref}

\UseRawInputEncoding

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            Definición de las entradas de código en C           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish]{babel}
\usepackage{times}

\usepackage{color}
\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}
\definecolor{keywords}{rgb}{0.00,0.00,1.00}
\definecolor{include}{rgb}{0.00,0.67,0.00}

\usepackage{listings}
\lstset{ frame=Ltb,
	framerule=0pt,
	aboveskip=0.5cm,
	framextopmargin=3pt,
	framexbottommargin=3pt,
	framexleftmargin=0.2cm,
	tabsize=2,
	framesep=0pt,
	rulesep=.4pt,
	backgroundcolor=\color{gray97},
	rulesepcolor=\color{black},
	%
	stringstyle=\ttfamily,
	showstringspaces = false,
	basicstyle=\small\ttfamily,
	commentstyle=\color{gray45},
	keywordstyle=\bfseries,
	keywordstyle={\color{keywords}},
	%
	numbers=left,
	numbersep=15pt,
	numberstyle=\tiny,
	numberfirstline = false,
	breaklines=true,
	basicstyle=\footnotesize\setstretch{1},
}

% minimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
{\lstset{#1}\pagebreak[0]}{\pagebreak[0]}

\lstdefinestyle{consola}
{basicstyle=\scriptsize\bf\ttfamily,
	backgroundcolor=\color{gray75},
}

\lstdefinestyle{C}
{language=C,
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            Definici?n del Documento PDF, (PDFLaTeX)            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hypersetup{pdfauthor=Nombre}

\hypersetup{pdftitle=Título}%

\hypersetup{pdfkeywords=Palabras clave}

\pdfstringdef{\Produce}{Escuela de Ingeniería Eléctrica, Facultad de Ingeniería, UCV}%

\pdfstringdef{\area}{Área del trabajo}

\hypersetup{pdfproducer=\Produce}

\hypersetup{pdfsubject=\area}

\hypersetup{bookmarksnumbered=true}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Source in images
\newcommand*{\captionsource}[2]{%
	\caption[{#1}]{%
		#1%
		\\%
		\textbf{Fuente:} #2%
	}%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%\setcounter{MaxMatrixCols}{10}


%===================== Re-definici?n de Ambientes =================
\newtheorem{theorem}{Teorema}
\newtheorem{acknowledgement}[theorem]{Acknowledgement}
\newtheorem{algoritmo}[theorem]{Algorithm}
\newtheorem{supuestos}[theorem]{Supuestos}
\newtheorem{hipotesis}[theorem]{Hipótesis}
\newtheorem{axiom}[theorem]{Axiom}
\newtheorem{case}[theorem]{Case}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{conclusion}[theorem]{Conclusión}
\newtheorem{condition}{Condición}
\newtheorem{conjecture}{Conjecture}
\newtheorem{corollary}{Corollary}
\newtheorem{criterion}{Criterion}
\newtheorem{definition}{Definición}  %{Definition}
\newtheorem{example}[theorem]{Ejemplo}%{Example}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{lemma}{Lemma}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{problem}{Problem}
\newtheorem{property}{Property}
\newtheorem{proposition}{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{solution}{Solution}
\newtheorem{summary}[theorem]{Summary}
\newenvironment{proof}[1][Proof]{\noindent\textbf{#1.} }{\ \rule{0.5em}{0.5em}}%

\numberwithin{equation}{chapter}%
\numberwithin{figure}{chapter}%
\numberwithin{table}{chapter}%
\numberwithin{definition}{chapter}%
\numberwithin{lemma}{chapter}%
\numberwithin{theorem}{chapter}%
\numberwithin{corollary}{chapter}%
\numberwithin{condition}{chapter}%
\numberwithin{criterion}{chapter}%
 \numberwithin{problem}{chapter}%
\numberwithin{property}{chapter}%
\numberwithin{proposition}{chapter}%
\numberwithin{solution}{chapter}%
\numberwithin{conjecture}{chapter}%

%==================== Separaci?n en s?labas ========================
\hyphenpenalty=6800%
\input{silabear.tex}

%==================== Dise?o de P?gina =============================
%\pagestyle{headings}
%\setlength{\headheight}{0.2cm}
\setlength{\textwidth}{14.52cm}%
%\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
%\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
%\rhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}%\thepage
%\lhead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries}} \cfoot{}%

%\fancyhead[R]{}


\rfoot[\fancyplain{}{\textit{M. Rodríguez}}] {\fancyplain{}{}}
\lfoot[\fancyplain{}{}] {\fancyplain{}{\textit{}}}    %%%%%%%%%%%%%%%%%%% OJO ACA %%%%%%%%%%
\cfoot[\fancyplain{}{}] {\fancyplain{}{\bfseries\thepage}}
%\setlength{\footrulewidth}{0.0pt}%
%\setlength{\headrulewidth}{0.1pt}%

%===================================================================



%================== Dise?o de P?rrafo y delimitador ================
\renewcommand{\baselinestretch}{1.5}% Espaciado entre linea
\geometry{left=4cm,right=3cm,top=3cm,bottom=3cm}
\frenchspacing %
%\raggedright % S?lo para justificar el texto a la izquierda
\renewcommand{\captionlabeldelim}{.}%
\setlength{\parindent}{0.7cm}% Espacio de la sangr?a
\setlength{\parskip}{14pt plus 1pt minus 1pt}% Separaci?n entre p?rrafos

%\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}%


%===================================================================

%==========================  Espa?ol venezolano =====================
%%Personalizaci?n de caption
\addto\captionsspanish{%
  \def\prefacename{Prefacio}%
  \def\refname{REFERENCIAS}%
  \def\abstractname{Resumen}%
  \def\bibname{REFERENCIAS}%{Bibliograf?a}%
  \def\chaptername{CAPÍTULO}%
  \def\appendixname{Apéndice}%{Anexo}
  \def\contentsname{ÍNDICE GENERAL}
  \def\listfigurename{LISTA DE FIGURAS}%?ndice de Figuras\hspace*{10em}
  \def\listfigurenameTofC{LISTA DE FIGURAS}%?ndice de Figuras
  \def\listtablename{LISTA DE TABLAS}%?ndice de Tablas
  \def\indexname{Índice alfabético}%
  \def\figurename{Figura}%
  \def\tablename{Tabla}%
  \def\partname{Parte}%
  \def\enclname{Adjunto}%
  \def\ccname{Copia a}%
  \def\headtoname{A}%
  \def\pagename{Página}%
  \def\seename{véase}%
  \def\alsoname{véase también}%
  \def\proofname{Demostración}%
  \def\glossaryname{Glosario}
  }%



%==================================================================

%\setcounter{secnumdepth}{1}
%\setcounter{page}{4}
%\addtocounter{page}{4}%

\pagenumbering{roman}

\setcounter{secnumdepth}{3} % para que ponga 1.1.1.1 en subsubsecciones
\setcounter{tocdepth}{3} % para que ponga subsubsecciones en el indice

\makeindex


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
%\frontmatter

%====================Math ==============================
\def\vectornu{\mathbf{v}}%)\,)
\def\sen{\mathrm{sen}}
%\def\cos{\mathrm{cos}}
%\def\vectornu2{\nu_{n}}

%===================================================================
%                            Primera P?gina
%================================== Portada =================================================
\input{portada.tex}
%===================================================================
% Una manera diferente, pero no permite muchas facilidades,
% de dise?ar la primera p?gina

%\title{\textbf{T?tulo del Trabajo}}
%\author{Tu nombre}
%\date{\today}
%\maketitle

%======================= Constancia de Aprobaci?n ===================
%\newpage
\begin{figure}
        \begin{center}
        %\centering
        %\includegraphics[height=23cm]{aprobacion.eps}

        \vspace{0.5mm}
        \label{Fig.aprobacion}
        \end{center}
        \end{figure}
\thispagestyle{empty}
%======================= Menci?n Honor?fica =========================
\newpage
%\thispagestyle{empty}

\begin{figure}
        \begin{center}
        %\centering
        %\includegraphics[height=24cm]{mencion.eps}
        \vspace{0.5mm}
        \label{Fig.mencion}
        \end{center}
\end{figure}
\thispagestyle{empty}
%======================= P?gina de Dedicatoria ======================
\newpage%
\newenvironment{dedication}%
{\cleardoublepage \thispagestyle{empty} \vspace*{\stretch{1}}%
\begin{center} \em} {\end{center} \vspace*{\stretch{3}} }%
\begin{dedication}%
\textbf{A mis padres \\ Ayarlen Ferrer y Marco Rodríguez. \\}
Por ustedes ha sido esto.\\

\bigskip
\bigskip
\bigskip
\bigskip

\textbf{A la memoria de mis abuelos \\
Esperanza Merecuana y Francisco Ferrer.\\}
Dónde quiera que se encuentren, por todo lo que hicieron por mi y mis hermanos.\\ Eternamente gracias.

\bigskip
\bigskip
\bigskip
\bigskip

\end{dedication}%

%==================================================================
\chapter*{RECONOCIMIENTOS Y AGRADECIMIENTOS}
%\markboth{Reconocimientos}{Reconocimientos}%
\addcontentsline{toc}{chapter}{RECONOCIMIENTOS Y AGRADECIMIENTOS}%
%\setlength{\parskip}{0.2cm}%
\input{agradecimientos.tex}%

%======================= P?gina de Resumen ==========================
\newpage
\renewcommand*{\abstract}{\begin{center}\end{center}}
%\begin{abstract}
\begin{spacing}{1}
\begin{center}%

\textbf{Autor del Trabajo de Grado}

\begin{large}
\textbf{Título del Trabajo de Grado}
\end{large}
\end{center}

\noindent%
\textbf{Tutor Académico: Ing. José Alonso. Tesis.
Caracas, Universidad Central de Venezuela. Facultad de Ingeniería.
Escuela de Ingeniería Eléctrica. Mención Electrónica, computación y control. Año 2021,
xvii, 83 páginas sin contar anexos}

\noindent
\textbf{Palabras Claves:} Red mallada, WiFi, ESP32, Microcontroladores, Adquisición de datos, Transmisión de datos, nodos, Medidores de Energía, Comunicación serial, Almacenamiento nó volátil\\[1ex]

\noindent \textbf{Resumen.-} En este trabajo se comprende el diseño e implementación de una red mallada WiFi utilizando el ESP32 como microcontrolador para la adquisición y transmisión de datos de medidores de energía. Se implementa una red mallada estable, enrutada automáticamente y capaz de sanear desconexiones. Se establecen las interfaces necesarias para comunicarse con los medidores de energía, con esta base se diseñan e implementan: un nodo con comunicación por bus serial RS485 y un nodo con acumulador de pulsos que guarda en memoria no volátil los datos. Se implementa una GUI web para el usuario. La red se comunica hacia el exterior mediante un socket TCP. Se realizan pruebas para comprobar tiempos de respuesta, errores y restablecimiento de la red en caso de desconexión de un nodo. La implementación es satisfactoria y cubre con los requerimientos de este caso de uso, sin embargo presenta tiempos de respuesta que no son recomendables para aplicaciones críticas.

\end{spacing}

%\underline{RESUMEN}
%
\thispagestyle{empty}%
%\input{resumen.tex}%
%\end{abstract}
%====================== P?ginas de Contenidos =====================
\renewcommand{\baselinestretch}{1.5}% Espaciado entre linea
\addtocounter{page}{3}%
\setlength{\parskip}{3pt}% Separaci?n entre p?rrafos

\tableofcontents%

\listoffigures%

\listoftables%



%==================================================================
\chapter*{LISTA DE ACRÓNIMOS}%
%\markboth{Lista de Acr?nimos}{Lista de Acr?nimos}%
\addcontentsline{toc}{chapter}{LISTA DE ACRÓNIMOS}%
\input{acroni.tex}%


%==================================================================
\chapter*{INTRODUCCIÓN}\label{CAP:intro}
\setlength{\parskip}{14pt}% Separaci?n entre p?rrafos
\addcontentsline{toc}{chapter}{INTRODUCCIÓN}%
%\markboth{Introducci?n}{Introducci?n}%

\pagenumbering{arabic}%
\input{ch0.tex}%

%==================================================================
\chapter{CONCEPTUALIZACIÓN DEL PROYECTO}\label{CAP:concept}
\input{ch1.tex}%

%==================================================================
\chapter{MARCO REFERENCIAL}\label{CAP:teor}
%\markboth{Tu Primer Cap?tulo}{Tu Primer Cap?tulo}%
\input{ch2.tex}%

%==================================================================
%\chapter{MARCO METODOLÓGICO}\label{CAP:met}
%\markboth{Tu Primer Cap?tulo}{Tu Primer Cap?tulo}%
%\input{ch3.tex}%

%==================================================================
\chapter{DEFINICIÓN Y DESCRIPCIÓN DEL HARDWARE}\label{CAP:hard}
%\markboth{Tu Segundo Cap?tulo}{Tu Segundo Cap?tulo}%
\input{ch3.tex}%

%==================================================================
\chapter{DEFINICIÓN Y DESCRIPCIÓN DEL SOFTWARE}\label{CAP:soft}
%\markboth{Tu Segundo Cap?tulo}{Tu Segundo Cap?tulo}%
\input{ch4.tex}

%==================================================================
\chapter{PRUEBAS Y RESULTADOS}\label{CAP:exp}
%\markboth{Tu Segundo Cap?tulo}{Tu Segundo Cap?tulo}%
\input{ch5.tex}

%==================================================================
\chapter{CONCLUSIONES}\label{CAP:conclu}
%\markboth{Tu Segundo Cap?tulo}{Tu Segundo Cap?tulo}%
\input{conclusiones.tex}

%==================================================================
\chapter{RECOMENDACIONES}\label{CAP:recomend}
%\markboth{Tu Segundo Cap?tulo}{Tu Segundo Cap?tulo}%
\input{recomendaciones.tex}

\appendix

\renewcommand \thechapter{\Roman{chapter}}
%==================================================================
\chapter{Código fuente}\label{CAP:anexo0}
%\markboth{Tu anexo}{Tu anexo}%
\input{CodigoFuente.tex}%

%==================================================================
\chapter{Datasheet MAX3485}\label{CAP:anexo1}
%\markboth{Tu anexo}{Tu anexo}%
\input{datasheetMAX3485.tex}%

%\backmatter
%==================================================================
%\chapter{TÍTULO DEL ANEXO}\label{CAP:anexo2}
%\markboth{Tu anexo}{Tu anexo}%
%\input{apendice2.tex}%



%\backmatter

%==================================================================
\newpage
%\markboth{Referencias}{Referencias}%
%\addcontentsline{toc}{chapter}{Referencias}%

% References here (outcomment the appropriate case)
% CASE 1: BiBTeX used to constantly update the references (while the paper is being written).
\bibliographystyle{IEEEtran}%%% outcomment this and next line in Case 1 siam
%\bibliographystyle{apalike}%
\renewcommand{\bibname}{REFERENCIAS}
\let\oldbibsection\bibsection
\bibliography{MRTG} % if more than one, comma separated and without extension bib


% CASE 2: BiBTeX used to generate EIETdeG.bbl (to be further fine tuned)
%\input{EIETdeG.bbl} % outcomment this line in Case


%==================================================================
%\markboth{index}{index}%
%\addcontentsline{toc}{chapter}{?ndice alfab?tico}%
\printindex%

\end{document}
