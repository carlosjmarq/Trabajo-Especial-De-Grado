% !TeX encoding = ISO-8859-1
% !TeX spellcheck = es_ES

Un paso por la documentación sobre infraestructuras de medición de energía eléctrica, tipos de medidores y normativas aplicadas en estas redes ofrece una mirada al estado actual acerca de los sistemas de recolección de información y transmisión de datos, las tecnologías y las topologías utilizadas. En cuanto a los medidores se pueden separar en dos grandes grupos: los que solo ofrecen información visual al cliente, y los que además pueden transmitir la información visualizada en un protocolo serial como el protocolo modbus. Ambos tipos de medidores fueron considerados para el diseño de esta red de extracción.

Se implementó una red mallada que utiliza el WiFi integrado en el ESP32, aprovechando las interfaces de programación de aplicaciones brindadas por el fabricante del chip. En este caso las librerías facilitan el desarrollo y establecimiento de aplicaciones utilizando esta topología ya que ofrecen la conformación, enrutamiento, seguridad de ingreso, envío y recepción de mensajes de la red en módulos listos para utilizar y ser integrados con el sistema operativo en tiempo real para así darle forma a cualquier tipo de aplicación que se desee, en este caso un sistema de adquisición y transmisión de datos para medidores de energía eléctrica.

Teniendo en cuenta las limitaciones que supone conectarse con medidores de energía, se diseñó una red en la que existen nodos configurables mediante interfaces web capaces de contar la cantidad de pulsos que emite un medidor por su salida de calibración guardándolos en la memoria no volátil para evitar pérdidas de data en condiciones extremas; pero también capaces de comunicarse mediante un bus serial RS485, utilizando un chip MAX3485 y el protocolo modbus, lo que les permite tener uno o varios medidores conectados a este tipo de nodo.

La red mallada WiFi diseñada es capaz de funcionar como si fuera esta la extensión de un cable, recibiendo un mensaje desde una fuente externa mediante una conexión externa y retransmitirlo a todos sus nodos, esperando la respuesta del nodo correcto y devolviendo la respuesta a dicha fuente externa. Al ser una interfaz probada e implementada por su fabricante brinda cierta seguridad en su uso, seguridad que fue corroborada debido al comportamiento correcto y sin reinicios de ningun tipo en su ejecución.

Mediante pruebas de uso de la red se pudo observar que ofrece porcentajes de error máximo por debajo del 5\%, además en esta prueba se pudo observar una desventaja: pérdidas de paquetes debido a la naturaleza inalámbrica que ofrece el WiFi, esto evidencia posibles vulnerabilidades de la red debido a saturación, colisiones u obstaculos en los enlaces WiFi. También se probó los beneficios de re-enrutamiento luego de pérdidas de comunicación con ciertos nodos y en estas pruebas se evidenció que no es una red para aplicaciones críticas debido a los 25 segundos que puede tardar este reordenamiento de la red.

